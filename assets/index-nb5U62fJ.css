.segmented-control--stack{display:flex;flex-direction:column;gap:6px}body.theme-light{--bg: #ffffff;--panel: #edece8;--panel-2: #f5f3ee;--panel-border: #e1dfda;--hairline: #ebe8e0;--title: #000000;--text: #000000;--muted: #5f5c56;--accent: #3978a1;--accent-strong: #2f5e7d;--accent-soft: #dbe4ea;--accent-contrast: #ffffff;--ok: #2eae6a;--warn: #f2b84b;--danger: #e24a4a;--gold: #c7a600;--hon: #111111;--ftl: #8e98a8;--grid: #e6e4df;--seat: #f4f1eb;--seat-border: #d5d2cb;--seat-active: #cfd8de;--chip: #bab6ae;--aisle: #f0eee8;--vip: #8b5cf6;--pad: #39d98a;--fcl: #ff5757;--scrollbar-thumb: #d6d3cc;--scrollbar-track: #edece8;--surface-hover: #eae6de}body.theme-dark{--bg: #383838;--panel: #3b3a39;--panel-2: #444341;--panel-border: #2e2d2d;--hairline: #4a4948;--title: #cacaca;--text: #a8a8a8;--muted: #98948f;--accent: #3978a1;--accent-strong: #2a5873;--accent-soft: #3f5e70;--accent-contrast: #f5f3ee;--ok: #2eae6a;--warn: #f2b84b;--danger: #e24a4a;--gold: #c7a600;--hon: #111111;--ftl: #8e98a8;--grid: #454442;--seat: #494846;--seat-border: #4f4e4c;--seat-active: #3978a1;--chip: #bab6ae;--aisle: #42413f;--vip: #8b5cf6;--pad: #39d98a;--fcl: #ff5757;--scrollbar-thumb: #545453;--scrollbar-track: #3b3a39;--surface-hover: #4a4947}body.theme-light,body.theme-light *,body.theme-dark,body.theme-dark *{scrollbar-color:var(--scrollbar-thumb) var(--scrollbar-track)}body.theme-light ::-webkit-scrollbar,body.theme-dark ::-webkit-scrollbar{width:10px;height:10px}body.theme-light ::-webkit-scrollbar-thumb,body.theme-dark ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:6px;border:2px solid var(--scrollbar-track)}body.theme-light ::-webkit-scrollbar-track,body.theme-dark ::-webkit-scrollbar-track{background:var(--scrollbar-track)}body.theme-light header{background:linear-gradient(180deg,#fffffff2,#ffffffe6);border-bottom:1px solid var(--hairline)}body.theme-light html,body.theme-light body{background:var(--bg);color:var(--text)}body.theme-light input,body.theme-light select,body.theme-light textarea{background:var(--panel);border:1px solid var(--panel-border);color:var(--text)}body.theme-light .btn{background:var(--panel-2);border:1px solid var(--panel-border);color:var(--text)}body.theme-light .btn.ghost{background:transparent;border-color:var(--panel-border)}body.theme-light .btn.primary{background:var(--accent);border-color:transparent;color:#fff}body.theme-light aside,body.theme-light .section,body.theme-light .seatmap{background:var(--panel);border:1px solid var(--panel-border)}body.theme-light .badge{background:var(--accent-soft);border:1px solid var(--panel-border);color:var(--accent-strong)}body.theme-light .legend .item{background:var(--chip);border:1px solid var(--panel-border);color:var(--muted)}body.theme-light .aisle{background:var(--aisle);border:1px dashed var(--panel-border)}body.theme-light .seat{background:var(--seat);border:1px solid var(--seat-border)}body.theme-light .seat.occupied{outline:2px solid var(--accent);background:var(--seat-active)}body.theme-light .title{color:var(--title)}body.theme-light .iconbar .icon,body.theme-light .meal-tag{background:var(--chip);border:1px solid var(--panel-border);color:var(--text)}body.theme-light .mini .dot{border-color:var(--seat-border)}body.theme-light .flow-item{border:1px solid var(--panel-border);background:var(--panel)}body.theme-light .flow-item:hover{background:var(--surface-hover)}body.theme-light .flow-item.eat-with{background:#cedffd;border:2px solid var(--accent);box-shadow:inset 0 0 0 1px #00000026}body.theme-light .flow-seat{color:var(--text)}.flow-sub{flex-basis:100%;text-align:left;font-size:12px;color:var(--muted);line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}body.theme-light .tag{background:var(--chip);border:1px solid var(--panel-border);color:var(--text)}body.theme-light .tag.hon{background:#000;color:#fff}body.theme-light .tag.sen{background:#3a2e00;color:#ffd24d}body.theme-light .tag.later{background:#eaf6ea;border-color:var(--panel-border)}body.theme-light .tag.sleep{background:#eef0f5;border-color:var(--panel-border)}body.theme-light .tag.vip{background:var(--vip);color:#fff}body.theme-light .tag.pad{background:var(--pad);color:#fff}body.theme-light .tag.fcl{background:var(--fcl);color:#fff}body.theme-light .tag.ftl{background:var(--ftl);color:#fff}*{box-sizing:border-box}html,body{height:100%;background:var(--bg);color:var(--text);margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}header{position:sticky;top:0;z-index:500;background:linear-gradient(180deg,#3b3a39f0,#3b3a39d1);-webkit-backdrop-filter:saturate(1.2) blur(6px);backdrop-filter:saturate(1.2) blur(6px);border-bottom:1px solid var(--hairline)}.wrap{max-width:1200px;margin:0 auto;padding:10px 14px}.row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.hist-mode-switch .btn{min-width:90px}.hist-mode-switch .btn.active{background:var(--accent);color:var(--accent-contrast)}.rows-counter{margin-left:auto}header .wrap{display:flex;flex-wrap:wrap}header .wrap>.row:last-child{flex:1 0 100%;justify-content:flex-start}input,select,textarea{background:var(--panel);border:1px solid var(--panel-border);color:var(--text);padding:10px 12px;border-radius:var(--radius-md);outline:none;min-width:0}textarea{width:100%;min-height:70px;resize:vertical}input[type=number]{width:90px}.btn{background:var(--panel-2);border:1px solid var(--panel-border);color:var(--text);padding:10px 12px;border-radius:var(--radius-md);cursor:pointer;transition:background-color .15s ease,color .15s ease}.btn:hover{background:var(--surface-hover)}.btn:disabled{opacity:.5;cursor:not-allowed}.btn.ghost{background:transparent;border-color:var(--panel-border)}.btn.primary{background:var(--accent);border-color:transparent;color:var(--accent-contrast);font-weight:700}#clientView.btn.primary,#serveAperitif.btn.primary,#serveMeal.btn.primary{box-shadow:0 0 0 2px #0b122026 inset}.btn.danger{background:var(--panel-2);border-color:var(--panel-border);color:var(--text);font-weight:700;transition:background-color .15s ease,color .15s ease,border-color .15s ease}.btn.danger:hover{background:var(--danger);border-color:var(--danger);color:var(--accent-contrast)}.btn.icon{padding:2px 6px;font-size:16px;line-height:1}.btn.icon.active{outline:2px solid var(--accent);outline-offset:2px}.spacer{flex:1 1 auto}.pill{background:var(--chip);padding:8px 10px;border-radius:var(--radius-md);border:1px solid var(--panel-border);color:var(--text)}.pill-grid{display:flex;flex-direction:column;gap:12px}.group-card{border:1px solid var(--panel-border);border-radius:var(--radius-lg);padding:10px;background:var(--panel)}.group-title{display:inline-block;border:1px solid var(--panel-border);border-radius:var(--radius-sm);padding:4px 10px;font-weight:600;margin-bottom:8px;-webkit-user-select:none;user-select:none}#drinkGrid{flex:1 1 100%;width:100%;min-width:0}#drinkGrid .group-card{width:100%}#drinkGrid .group-card .group-title{display:flex;align-items:center;justify-content:space-between;gap:8px;cursor:pointer}#drinkGrid .group-card .group-title:after{content:"▸";font-size:.8rem;color:var(--muted);transition:transform .2s ease}#drinkGrid .group-card[data-open=true] .group-title:after{content:"▾"}#drinkGrid .group-card[data-open=false]>:not(.group-title){display:none}#drinkGrid .group-card .group-title:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.opt-title{display:inline-block;margin:8px 0 4px;padding:4px 8px;border:1px solid var(--panel-border);border-radius:var(--radius-sm);font-weight:600;font-size:.9rem;background:var(--panel-2);color:var(--text)}.accordion{display:flex;flex-direction:column;gap:8px}.accordion__section{border:1px solid var(--panel-border);border-radius:var(--radius-sm);background:var(--panel)}.accordion__header{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:6px 12px;cursor:pointer;-webkit-user-select:none;user-select:none;font-weight:600}.accordion__header:after{content:"▸";font-size:.8rem;color:var(--muted);transition:transform .2s ease}.accordion__section[data-open=true] .accordion__header:after{content:"▾"}.accordion__section[data-open=false] .accordion__body{display:none}.accordion__body{padding:8px 12px 12px}.accordion__header:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.pill.toggle[aria-pressed=true],.pill.active{outline:2px solid var(--accent);outline-offset:2px;border-radius:14px}.pill-row{display:flex;flex-wrap:wrap;gap:6px;width:100%;justify-content:flex-start}.pill-break{flex-basis:100%;height:0}.pill-wrap{display:flex;flex-direction:column;align-items:center;gap:2px;min-width:56px}.pill-cap{font-size:10px;line-height:1.05;color:var(--muted);text-align:center;max-width:70px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#drinkGrid.caps-off .pill-cap{display:none}.pill.big{font-size:1.8rem;line-height:1;padding:8px 12px}.pill{margin:2px;font-size:1.6rem;line-height:1;padding:8px 10px}.pill.active,label:has(input[type=checkbox]:checked){outline:2px solid var(--accent);outline-offset:2px;border-radius:14px}.pill:focus-visible{outline:2px dashed var(--accent);outline-offset:2px}.pill-subrows{display:flex;flex-direction:column;gap:6px}#lblSpml{display:inline-block}#spmlAddCode{width:auto}#mealDrinkNotesBlock{padding-top:2px}#mdMealDrinkNotes{display:inline-block;line-height:1.25;padding:2px 8px;margin:2px 0 6px}#m_mealDrinkNotes{min-height:48px}.grid{display:grid;grid-template-columns:280px minmax(0,1fr) 300px;gap:12px;max-width:1200px;padding:14px;margin:0 auto}@media (max-width: 1180px){.grid{grid-template-columns:260px minmax(0,1fr) 260px}}@media (max-width: 980px){.grid{display:flex;flex-direction:column}.grid>main{order:1}.grid>aside{order:2}#flowAside{order:3}aside{position:static}.seatmap{position:relative;z-index:1}.seatmap-tabs{align-items:stretch}.seatmap-tabs .tab-bar,.seatmap-tabs .subtab-bar{flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}}aside{background:var(--panel-2);border:1px solid var(--panel-border);border-radius:var(--radius-lg);padding:12px;position:sticky;top:68px;height:fit-content}aside h3{margin:6px 0 8px;font-size:14px;color:var(--muted);font-weight:600;letter-spacing:.4px}.menu-mode-toggle{display:flex;gap:8px;margin:6px 0 10px}.menu-mode-btn{flex:1 1 50%;justify-content:center}.menu-mode-btn.active{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast)}.menu-panel{display:flex;flex-direction:column;gap:8px;padding:10px;border:1px solid var(--panel-border);border-radius:var(--radius-md);background:var(--panel)}.menu-panel--ghost{background:var(--panel-2);border-style:dashed}.menu-context{display:flex;flex-direction:column;gap:8px}.menu-context__row{display:flex;align-items:center;gap:8px;justify-content:space-between;width:100%}.menu-context__row--center{justify-content:center}.menu-segmented{flex:1 1 auto;display:flex;gap:6px;flex-wrap:wrap;justify-content:flex-end}.menu-segmented .btn{flex:1 1 48%;min-width:120px}.menu-segmented .btn.is-selected{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast)}.menu-nightstop{display:flex;align-items:center;gap:8px}.menu-nightstop input[type=checkbox]{width:18px;height:18px}.menu-rotation{display:flex;align-items:center;gap:8px;justify-content:flex-end;flex:1 1 auto}.menu-rotation__badge{background:var(--chip);color:var(--title)}.menu-rotation__hint{font-size:12px;color:var(--muted);text-align:right}.menu-preview{display:flex;flex-direction:column;gap:6px;padding:10px;background:var(--panel-2);border:1px dashed var(--panel-border);border-radius:var(--radius-md)}.menu-preview__row{display:flex;flex-direction:column;gap:4px}.menu-preview__value{flex:1 1 auto;text-align:left;font-weight:600;color:var(--title);font-size:14px;line-height:1.3}.menu-preview__note{font-size:12px;color:var(--muted)}.menu-preview__note[data-state=missing],.menu-preview__note[data-state=ok]{color:var(--accent)}.menu-segmented .btn.active{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast)}.label-with-info{display:inline-flex;align-items:center;gap:6px;position:relative}.info-btn{width:22px;height:22px;border-radius:6px;border:1px solid var(--panel-border);background:var(--panel-2);color:var(--text);font-weight:700;font-size:12px;cursor:pointer;padding:0;line-height:1}.info-btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.info-btn:disabled{background:var(--panel-2);border-color:var(--panel-border);color:var(--muted);cursor:not-allowed;opacity:.6}.info-popup{position:absolute;top:120%;left:0;min-width:220px;padding:8px;border-radius:var(--radius-md);background:var(--panel);border:1px solid var(--panel-border);box-shadow:0 8px 20px #00000059;z-index:240}.info-popup__item{font-size:13px;color:var(--text);padding:4px 0}.info-popup__label{font-size:11px;text-transform:uppercase;letter-spacing:.3px;color:var(--muted);font-weight:700}.info-popup__value{font-size:13px;color:var(--text);margin-top:2px}.menu-preview__title{font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.3px;color:var(--muted)}.menu-manual-hint{font-size:12px;color:var(--muted);margin-bottom:2px}.inventory{display:grid;grid-template-columns:1fr auto;gap:8px;align-items:center}.inventory-total{grid-column:2;justify-self:flex-start;display:inline-flex;align-items:center;gap:6px;padding-left:40px}.inventory-row,.inventory-list .row{display:inline-flex;align-items:center;gap:6px}.inventory-list{display:grid;grid-template-columns:1fr auto;gap:6px;align-items:center}.btn.inv-minus,.btn.inv-plus{display:inline-flex;align-items:center;justify-content:center;min-width:32px;min-height:32px;padding:6px 8px}.btn.inv-minus:before{content:"-";font-weight:700}.btn.inv-plus:before{content:"+";font-weight:700}.btn.inv-minus:disabled{visibility:hidden;pointer-events:none}.badge{min-width:34px;text-align:center;padding:6px 8px;border-radius:var(--radius-sm);background:var(--panel-2);border:1px solid var(--panel-border);color:var(--text);font-weight:700}.badge.ok,.badge.low,.badge.zero{background:var(--chip);border-color:var(--panel-border);color:var(--text)}body.theme-dark .badge,body.theme-dark .badge.ok,body.theme-dark .badge.low,body.theme-dark .badge.zero{background:var(--panel-2);border-color:var(--panel-border);color:var(--title)}.seatmap{background:var(--panel);border:1px solid var(--panel-border);border-radius:var(--radius-lg);padding:12px;position:relative}.seatmap{overflow:visible}.seatmap .seatgrid{overflow:visible;max-width:100%}.seatgrid{display:grid;gap:6px;margin-top:10px}.seatgrid.moving .seat{outline:2px dashed var(--accent)}.seatgrid.moving .seat:hover{outline-style:solid}.row-label{color:var(--muted);font-size:12px;text-align:right;padding-right:6px;display:flex;align-items:center;justify-content:flex-end}.aisle{background:var(--aisle);border:1px dashed var(--panel-border);border-radius:var(--radius-md);min-height:48px}.seat{background:var(--seat);border:1px solid var(--seat-border);border-radius:var(--radius-sm);min-height:48px;display:flex;align-items:center;justify-content:center;gap:6px;position:relative;-webkit-user-select:none;user-select:none;touch-action:manipulation;cursor:pointer;overflow:hidden}.seat.bus{background:linear-gradient(180deg,#2c5e7c,#1f485f)}.seat.occupied{outline:2px solid var(--accent);background:var(--seat-active)}body.theme-dark .seat{color:var(--text)}body.theme-dark .seat.occupied{color:var(--accent-contrast);border-color:var(--accent)}.seat .mini{position:absolute;top:4px;left:6px;display:flex;gap:4px;z-index:2}.mini .dot{width:9px;height:9px;border-radius:50%;border:1px solid var(--panel-border)}.dot.ftl{background:var(--ftl)}.dot.sen{background:var(--gold)}.dot.hon{background:var(--hon);border-color:#555}.dot.vip{background:var(--vip)}.dot.pad{background:var(--pad)}.dot.fcl{background:var(--fcl)}.iconbar{position:absolute;bottom:4px;left:4px;display:flex;gap:4px;font-size:13px;opacity:.95;z-index:2}.seat-flag{padding:0 3px;font-size:6px;font-weight:700;line-height:10px;letter-spacing:.1px;background:var(--panel-2);color:var(--muted);border-color:var(--panel-border);min-width:unset}.seat-flag.flag-child,.seat-flag.flag-infant{color:var(--accent-strong);border-color:var(--accent-strong)}body.theme-dark .seat-flag.flag-child,body.theme-dark .seat-flag.flag-infant{color:#fff;border-color:var(--accent-strong)}.seat-flag.flag-served{color:var(--ok);border-color:var(--ok)}.seat-flag.flag-cleared{color:var(--muted)}.seat-flag.flag-later{color:var(--title);border-color:var(--panel-border)}.sleeping{filter:grayscale(1) opacity(.85)}.seat-label{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;font-weight:600;z-index:1;pointer-events:none}.legend{display:flex;flex-direction:column;gap:6px}.legend .item{display:flex;gap:6px;align-items:center;background:var(--panel-2);border:1px solid var(--panel-border);padding:6px 8px;border-radius:var(--radius-sm);color:var(--text)}.legend .square{width:12px;height:12px;border-radius:var(--radius-xs);border:1px solid var(--panel-border)}.legend-row{display:flex;gap:8px;flex-wrap:wrap}.square.ftl{background:var(--ftl)}.square.sen{background:var(--gold)}.square.hon{background:var(--hon);border-color:#555}.square.vip{background:var(--vip)}.square.pad{background:var(--pad)}.square.fcl{background:var(--fcl)}.section{background:var(--panel);border:1px solid var(--panel-border);border-radius:var(--radius-lg);padding:12px;margin-top:12px}.title{font-weight:700;margin:0 0 6px;color:var(--title)}.seatmap-tabs{display:flex;flex-direction:column;align-items:center;gap:8px;margin-bottom:14px}.filter-bar{display:flex;gap:6px;flex-wrap:wrap;align-items:stretch;min-width:0;justify-content:center}.filter-bar>#filterTabs{flex:0 1 auto}.tab-bar{display:flex;gap:6px;flex-wrap:nowrap;justify-content:center}.subtab-bar{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}.tab,.subtab{position:relative;background:var(--panel);border:1px solid var(--panel-border);color:var(--muted);cursor:pointer;transition:background-color .15s ease,color .15s ease,border-color .15s ease,box-shadow .15s ease}.tab{padding:8px 12px;border-bottom-width:2px;border-radius:var(--radius-md) var(--radius-md) 0 0;min-width:96px;flex:1 1 0;white-space:nowrap;text-align:center;font-weight:600;--tab-accent: var(--accent-strong)}.tab:after{content:"";position:absolute;left:0%;right:0%;bottom:-3px;height:4px;border-radius:999px;background:var(--tab-accent);opacity:.55;transition:opacity .15s ease,transform .15s ease;pointer-events:none}.tab[data-phase=fiche]{--tab-accent: #ffffff}.tab[data-phase=aperitif]{--tab-accent: var(--warn)}.tab[data-phase=repas]{--tab-accent: var(--danger)}.tab[data-phase=tc]{--tab-accent: var(--ok)}.tab.active:after{opacity:1;transform:translateY(1px)}.tab.active{background:var(--accent-strong);border-color:var(--accent);color:var(--accent-contrast);box-shadow:0 2px 0 var(--accent) inset}.tab:not(.active):hover,.subtab:not(.active):hover{color:var(--text);border-color:var(--text)}.subtab{padding:6px 14px;border-radius:var(--radius-md);font-weight:500}.subtab.active{background:var(--accent-strong);border-color:var(--accent);color:var(--accent-contrast)}.legend-actions{display:flex;justify-content:space-between;align-items:flex-start;gap:10px;flex-wrap:wrap;margin-top:12px}.legend-btn{white-space:nowrap}.legend-btn.active{background:var(--accent-strong);border-color:var(--accent);color:var(--accent-contrast)}.bulk-occupy-panel{display:flex;flex-direction:column;gap:6px;flex:1 1 260px}.bulk-occupy__row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.bulk-occupy__status{font-size:12px;color:var(--muted);min-height:18px}.seatgrid.bulk-occupy-mode .seat{cursor:crosshair;outline-offset:0}.seatgrid.bulk-occupy-mode .seat:hover{outline:2px dashed var(--accent)}.seat.bulk-picked{outline:2px solid var(--accent);box-shadow:0 0 0 2px #00000014}.seat.bulk-picked.occupied{outline-style:solid}.legend-popover{display:none;position:absolute;top:0;left:0;background:var(--panel);border:1px solid var(--panel-border);border-radius:var(--radius-lg);box-shadow:0 12px 24px #00000059;padding:12px;width:min(85px,85vw);z-index:15}.legend-popover[data-open=true]{display:block}.legend.legend-grid{flex-direction:row;flex-wrap:nowrap;align-items:flex-start;gap:14px}.legend-column{display:flex;flex-direction:column;gap:6px;flex:1 1 0}.legend-column .item{width:100%}.legend-divider{width:1px;background:var(--panel-border);align-self:stretch}body.theme-dark .pill{background:var(--text);color:var(--panel);border-color:var(--text)}body.theme-dark .tab,body.theme-dark .subtab{background:var(--panel);color:var(--text);border-color:var(--panel-border)}body.theme-dark .tab.active,body.theme-dark .subtab.active{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast)}.legend-btn{display:inline-flex;align-items:center;justify-content:center}.meal-tag{position:absolute;top:4px;right:6px;font-size:6px;line-height:14px;background:var(--accent-strong);border:1px solid var(--panel-border);padding:2px 6px;border-radius:var(--radius-sm);z-index:3;color:var(--accent-contrast)}.meal-tag.vertical{writing-mode:vertical-rl;text-orientation:mixed;padding:4px 2px}@media print{header,aside,.modal-back,.legend{display:none!important}body{background:#fff;color:#000}.seat{min-height:24px;border:1px solid #999;border-radius:4px}.grid{grid-template-columns:1fr}.aisle{border:1px dashed #bbb}}@media print{#historySection,#flowAside{display:none!important}}.modal-back{position:fixed;top:0;right:0;bottom:0;left:0;display:none;align-items:center;justify-content:center;background:#05080f8c;z-index:900}.modal{background:var(--panel-2);border:1px solid var(--panel-border);border-radius:var(--radius-lg);padding:12px;max-width:860px;width:min(95vw,860px);box-shadow:0 10px 30px #0006;position:relative;z-index:910}.modal-shell{display:flex;flex-direction:column;gap:16px}.modal-layout{display:flex;gap:16px;align-items:stretch}.modal-side-tabs{display:flex;flex-direction:column;gap:8px;align-items:stretch}.modal-content{flex:1 1 auto;min-width:0}.modal-side-tab{position:relative;--side-accent: var(--accent-strong);display:inline-flex;align-items:center;justify-content:center;padding:10px 12px;width:40px;height:112px;background:var(--panel);border:1px solid var(--panel-border);border-radius:var(--radius-md) var(--radius-md) 0 0;box-shadow:0 1px 3px #0003;transition:background .2s ease,border-color .2s ease,box-shadow .2s ease;color:var(--muted);cursor:pointer}.modal-side-tab:after{content:"";position:absolute;top:0;bottom:0;right:0;width:6px;border-radius:999px;background:var(--side-accent);opacity:.55;transition:opacity .15s ease,transform .15s ease;pointer-events:none}.modal-side-tab[data-phase=fiche]{--side-accent: #ffffff}.modal-side-tab[data-phase=aperitif]{--side-accent: var(--warn)}.modal-side-tab[data-phase=repas]{--side-accent: var(--danger)}.modal-side-tab[data-phase=tc]{--side-accent: var(--ok)}.modal-side-tab.active:after{opacity:1;transform:translate(1px)}.modal-side-tab span{display:inline-block;transform:rotate(-90deg);font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:currentColor;font-size:12px;white-space:nowrap;text-align:center}.modal-side-tab:not(.active):hover{border-color:var(--accent);color:var(--accent)}.modal-side-tab:not(.active):hover span{color:var(--accent)}.modal-side-tab.active{background:var(--accent-strong);border-color:var(--accent);color:var(--accent-contrast);box-shadow:0 4px 8px #00000040}.modal-side-tab.active span{color:var(--accent-contrast)}.modal-header{display:flex;flex-direction:column;gap:12px}.modal-header__primary{display:flex;align-items:baseline;gap:12px}#modalSeatMeta{display:flex;align-items:center;gap:8px;min-height:26px}.modal-seat-nav{display:inline-flex;align-items:center;gap:6px;padding:0;font-size:inherit;font-weight:inherit;line-height:1;white-space:nowrap}.seat-nav__btn{border:none;background:transparent;padding:2px 4px;font-size:inherit;line-height:1;border-radius:6px;color:var(--text);cursor:pointer;transition:color .15s ease,background .15s ease}.seat-nav__btn:focus-visible{outline:2px solid var(--accent);outline-offset:1px}.seat-nav__btn:not(:disabled):not([aria-disabled=true]):hover{background:var(--panel-border)}.seat-nav__btn:disabled,.seat-nav__btn[aria-disabled=true]{opacity:.35;cursor:default}.seat-nav__current{font-weight:700;letter-spacing:.2px}.status-pill{display:inline-flex;align-items:center;padding:4px 10px;border-radius:var(--radius-md);font-weight:600;font-size:12px;letter-spacing:.4px;text-transform:uppercase}.status-pill--ftl{background:var(--ftl);color:#1f1f1f}.status-pill--sen{background:#c7a600;color:#1f1500}.status-pill--hon{background:var(--hon);color:#fff}.status-pill--minor{background:var(--panel-2);color:var(--accent-strong);border:1px solid var(--accent-strong)}.status-pill--fcl{background:#ff5757;color:#ffe9a6}.status-pill--vip{background:var(--vip);color:#fff}.status-pill--pad{background:var(--pad);color:#10361f}.status-pill--other{background:var(--panel-2);color:var(--text);border:1px solid var(--panel-border)}.modal-header__secondary{display:flex;flex-direction:column;gap:12px}.modal-phase-nav{display:flex;flex-wrap:wrap;gap:8px}.modal-phase-nav .btn{min-height:44px;min-width:44px}.modal-header__actions .btn{min-height:44px}.modal-header__actions{display:flex;align-items:center;gap:8px}.modal-header__primary{display:flex;align-items:baseline;gap:12px;flex-wrap:wrap}.modal-body{gap:16px}.modal-column{display:flex;flex-direction:column;gap:16px}.modal-profile-grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.modal-card{background:var(--panel);border:1px solid var(--panel-border);border-radius:var(--radius-lg);padding:16px;display:flex;flex-direction:column;gap:12px}.modal-card--floating{padding:0;border:none;background:transparent}.modal-card__header{display:flex;align-items:center;justify-content:space-between;gap:8px;padding-bottom:4px;border-bottom:1px solid var(--panel-border)}.modal-card__content{display:flex;flex-direction:column;gap:12px}.form-row{display:flex;flex-direction:column;gap:6px}.form-row--toggle{flex-direction:row;justify-content:space-between;align-items:flex-start}.form-row--toggle .toggle-field{display:flex;align-items:center;gap:12px}.form-row--pair{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}.form-row--segment .segmented-control{width:100%;display:flex;gap:8px;flex-wrap:wrap}.form-row--later{display:flex;flex-direction:column;gap:8px;align-items:flex-start}.form-row--stack textarea{min-height:96px}.form-field{display:flex;flex-direction:column;gap:6px}.modal-card select:disabled,.modal-card textarea:disabled,.modal-card input:disabled{opacity:.45;cursor:not-allowed}.form-field--actions{display:flex;gap:8px;justify-content:flex-end}.form-field--time input[type=time]{min-width:120px}.field-label{font-size:13px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.6px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.language-picker{display:flex;flex-direction:column;gap:6px;width:100%;min-width:0}.language-buttons{display:flex;gap:6px;flex-wrap:wrap}.layout-buttons{display:flex;gap:6px;flex-wrap:nowrap;flex:1 1 auto;justify-content:flex-end}.layout-btn{flex:0 0 auto;min-width:54px}.layout-btn.active{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast)}.later-buttons{display:flex;gap:6px;flex-wrap:wrap}.later-custom{display:none}.later-custom.active{display:flex;align-items:center;gap:8px}.later-custom input[type=time]{min-width:140px}.later-btn{padding:6px 12px;border-radius:var(--radius-md);border:1px solid var(--panel-border);background:var(--panel-2);color:var(--text);font-weight:600;cursor:pointer;min-width:48px;text-align:center;transition:background .2s ease,border-color .2s ease,color .2s ease}.later-btn.active{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast)}.later-btn:disabled{opacity:.55;cursor:not-allowed}.language-btn{display:inline-flex;align-items:center;justify-content:center;padding:6px;border-radius:var(--radius-md);border:1px solid var(--panel-border);background:var(--panel-2);color:var(--text);cursor:pointer;transition:background .2s ease,border-color .2s ease,color .2s ease;min-width:44px;min-height:44px}.language-btn .flag{font-size:20px;line-height:1}.language-btn.active{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast)}.language-btn:disabled{opacity:.4;cursor:not-allowed}.switch{position:relative;width:44px;height:24px;display:inline-flex;align-items:center}.switch input{opacity:0;width:0;height:0}.switch-track{position:absolute;top:0;right:0;bottom:0;left:0;background:var(--hairline);border-radius:999px;transition:background .2s ease}.switch-track:after{content:"";position:absolute;top:3px;left:3px;width:18px;height:18px;border-radius:50%;background:var(--panel);box-shadow:0 1px 3px #0000004d;transition:transform .2s ease}.switch input:checked+.switch-track{background:var(--accent)}.switch input:checked+.switch-track:after{transform:translate(20px);background:var(--accent-contrast)}.segmented-control{width:100%;background:var(--panel-2);border:1px solid var(--panel-border);border-radius:var(--radius-lg);padding:4px;display:inline-flex;gap:6px}.segmented-control--stack{flex-direction:column;gap:6px}.segmented-control--stack>.segmented-control__option{justify-content:center;flex:none}.segmented-control--stack .segmented-control__row{display:flex;gap:6px}.segmented-control--stack .segmented-control__row .segmented-control__option{flex:1 1 0}.segmented-control__option{flex:1 1 0;justify-content:center;position:relative;display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:var(--radius-md);cursor:pointer;color:var(--text);font-weight:600;transition:background .2s ease,color .2s ease}.segmented-control__option input{position:absolute;opacity:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;pointer-events:none}.segmented-control__option:hover{background:var(--surface-hover)}.segmented-control__option input:checked~span{background:var(--accent);color:var(--accent-contrast);border-radius:var(--radius-md);padding:4px 10px;font-weight:700}.segmented-control__option input:disabled~span{opacity:.4;cursor:not-allowed}#menuDirectionBtns{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px;width:100%;margin:0 auto;justify-content:center;align-self:center}#menuDirectionBtns .menu-direction-btn{width:100%;min-width:0;justify-content:center;font-size:12px}#menuServiceBtns{display:flex;flex-direction:column;gap:8px;width:100%;margin:0 auto}#menuServiceBtns .btn{width:100%;min-width:0;flex:none;justify-content:center}#menuSelectionBody .menu-context{align-items:stretch;width:100%}#menuSelectionBody .menu-context__row{justify-content:stretch;width:100%}.action-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}#rightNotes .action-row{margin-top:10px}#rightNotes .action-row--stack{flex-direction:row;align-items:center}.action-row--stack{flex-direction:row;align-items:center;flex-wrap:wrap}.action-row--stack button{flex:1 1 50%;min-width:calc(50% - 6px)}.action-row--stack .action-note{flex-basis:100%;width:100%}.action-note{font-size:12px;color:var(--muted)}.history-log{font-size:13px;color:var(--muted)}.pill-inline{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:var(--radius-md);background:var(--panel-2);border:1px solid var(--panel-border)}@media (min-width: 900px){.modal-header{flex-direction:row;align-items:flex-end;justify-content:space-between}.modal-header__secondary{flex-direction:row;align-items:center;justify-content:space-between}.modal-phase-nav{flex-wrap:nowrap}}@media (max-width: 720px){.form-row--later{grid-template-columns:1fr}.form-field--actions{justify-content:flex-start}.modal-header__actions{flex-wrap:wrap;justify-content:flex-start}.form-row--toggle{flex-direction:column;align-items:flex-start}.language-buttons{flex-wrap:wrap}}@media (max-width: 960px){.modal-layout{flex-direction:column}.modal-side-tabs{flex-direction:row;justify-content:center;gap:8px;align-items:center}.modal-side-tab{width:auto;height:auto;padding:10px 16px;border-radius:var(--radius-md)}.modal-side-tab span{transform:none}}.modal.mono{max-width:560px;width:min(95vw,560px)}.modal.mono .two{grid-template-columns:1fr}.two{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:start}@media (max-width: 780px){.two{grid-template-columns:1fr}}body.client aside,body.client #historySection,body.client #importJSON,body.client #exportJSON,body.client #exportPNG,body.client #filterTabs,body.client #phaseChips,body.client #legendToggle,body.client #legendPopover,body.client #saveTitle,body.client #saveSnapshot,body.client #resetFlight,body.client .legend,body.client .iconbar,body.client .meal-tag,body.client .seatmap{display:none!important}#langButtons{margin-left:auto}.lang-dropdown{position:relative;z-index:600;pointer-events:auto}#langActive{min-width:56px}.lang-menu{position:absolute;top:100%;left:0;margin-top:4px;display:none;flex-direction:column;gap:6px;background:var(--panel);border:1px solid var(--panel-border);border-radius:var(--radius-md);padding:6px;z-index:220}.lang-dropdown.open #langMenu{display:flex}.lang-menu .btn{width:100%;justify-content:center}#flowAside{background:var(--panel);border:1px solid var(--panel-border);border-radius:var(--radius-md);padding:10px}#flowAside{min-width:0}.flow-item{align-items:flex-start}.flow-desc{flex:1 1 auto;min-width:0}#flowAside .section{margin-top:12px}#flowAside .title{font-weight:600;margin-bottom:6px}.flow-list{display:flex;flex-direction:column}.flow-item{display:flex;flex-wrap:wrap;align-items:center;gap:6px;padding:4px 8px}.flow-item:not(:last-child){border-bottom:1px solid var(--panel-border);padding-bottom:10px;margin-bottom:6px}.flow-confirm{margin-left:auto;min-width:82px;height:30px;display:inline-flex;align-items:center;justify-content:center;text-align:center;border-radius:var(--radius-md);border:1px solid var(--panel-border);background:var(--panel-2);color:var(--title);font-size:11px;font-weight:600;letter-spacing:.05px;box-shadow:0 6px 14px #0000000f;opacity:0;transform:translate(10px) scale(.96);transition:opacity .16s ease,transform .16s ease;pointer-events:none}.flow-confirm.is-visible{opacity:1;transform:translate(0) scale(1);pointer-events:auto}.flow-serve-confirm.is-visible{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast);box-shadow:0 10px 24px #0000001f}.flow-item.eat-with{border-radius:999px;border:2px solid var(--accent);background:#cedffd;box-shadow:inset 0 0 0 1px #00000026}body.theme-dark .flow-item.eat-with{background:var(--panel-2);border-color:var(--accent);box-shadow:inset 0 0 0 1px #00000059}.flow-item.eat-with+.flow-item.eat-with[data-pair]:not(:first-child){margin-top:-2px}.flow-item:hover{background:var(--surface-hover)}.flow-seat{font-weight:700;min-width:42px;text-align:center}.tag{font-size:12px;padding:2px 6px;border-radius:999px;background:var(--panel-2);border:1px solid var(--panel-border);color:var(--text)}.tag.hon{background:#000;color:#fff}.tag.sen{background:#3a2e00;color:#ffd24d}.tag.chml{background:#2b1133;color:#eaa3ff}.tag.vip{background:var(--vip);color:#fff}.tag.pad{background:var(--pad);color:#fff}.tag.fcl{background:var(--fcl);color:#fff}.tag.later{background:#1d2a1d}.tag.sleep{background:#222}.seat-flag{padding:0 4px;font-size:8px;line-height:12px;min-width:auto}.dp{position:absolute;background:var(--panel);border:1px solid var(--panel-border);border-radius:var(--radius-md);padding:8px;box-shadow:0 8px 24px #00000040;z-index:200;width:260px;-webkit-user-select:none;user-select:none}.dp header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.dp header .m{font-weight:600}.dp button{cursor:pointer}.dp .grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.dp .w,.dp .d{text-align:center;padding:6px 0;border-radius:var(--radius-sm)}.dp .w{color:var(--muted);font-size:12px}.dp .d{background:var(--panel-2);border:1px solid var(--panel-border)}.dp .d:hover{filter:brightness(1.06)}.dp .d.out{opacity:.35}.dp .d.today{outline:2px solid var(--accent)}.dp .d.sel{background:var(--accent);color:#fff;border-color:transparent}.seat-tag{position:absolute;left:50%;transform:translate(-50%);bottom:4px;font-size:12px;background:var(--accent-strong);border:1px solid var(--panel-border);padding:2px 6px;border-radius:var(--radius-sm);z-index:4;pointer-events:none;color:var(--accent-contrast)}.seat-tag.eatwith-tag{opacity:.98}:root{--fz-base: 16px;--fz-small: 12px;--fz-pill: 1.05rem;--fz-pill-big: 1.25rem;--radius-xs: 2px;--radius-sm: 4px;--radius-md: 6px;--radius-lg: 10px}html{font-size:var(--fz-base)}.btn{padding:8px 10px;font-size:14px}.btn.icon{font-size:18px;padding:6pxx 10px}input,select,textarea{padding:8px 10px;font-size:14px}.pill-grid{gap:8px}.group-card{padding:8px}.group-title{font-size:var(--fz-small);padding:2px 8px}.pill{font-size:var(--fz-pill);padding:6px 8px}.pill.big{font-size:var(--fz-pill-big);padding:6px 10px}.legend,.flow-sub{font-size:11px}.seat,.aisle{min-height:40px}#drinkGrid,#drinkGrid *{pointer-events:auto}#tcBlock[hidden] #drinkGrid,#mealBlock[hidden] #drinkGrid,.pill.big[disabled]{pointer-events:none}.pill.big:not([disabled]){pointer-events:auto}.meal-header{display:flex;flex-wrap:wrap;align-items:center;gap:12px}.meal-header .title{flex:0 0 auto}.passenger-carousel{position:relative;width:100%;height:110px;display:flex;align-items:center;justify-content:center}.seat-wheel{position:relative;width:100%;height:52px;touch-action:pan-y}.seat-wheel__mask{width:100%;height:100%;overflow:hidden}.seat-wheel__track{display:flex;flex-direction:row;gap:2px;align-items:stretch;padding:0 20px;will-change:transform}.seat-wheel__item{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;width:44px;min-height:44px;border-radius:8px;border:1px solid var(--hairline);background:var(--panel-2);color:var(--text);font-size:.68rem;cursor:pointer;transition:background .2s ease,color .2s ease,border-color .2s ease}.seat-wheel__item:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.seat-wheel__item .status-dot{width:9px;height:9px;border-radius:50%;background:var(--hairline)}.seat-wheel__label{font-weight:600;text-align:center}.seat-wheel__item.is-empty{opacity:.6}.seat-wheel__item.is-served .status-dot{background:var(--ok)}.seat-wheel__item.is-active{background:var(--accent);border-color:var(--accent);color:var(--accent-contrast)}.seat-wheel__focus{position:absolute;top:3px;bottom:3px;left:50%;margin-left:-22px;width:44px;border-radius:10px;border:1px solid var(--accent);pointer-events:none;opacity:.25;z-index:0}.status-dot.ftl{background:var(--ftl)}.status-dot.sen{background:#c7a600}.status-dot.hon{background:var(--hon)}.status-dot.vip{background:var(--vip)}.status-dot.fcl{background:#3a2e00}.status-dot.pad{background:var(--pad)}.meal-card-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;width:100%}.meal-card-grid--compact{grid-template-columns:repeat(3,minmax(0,1fr))}.meal-card{display:flex;flex-direction:column;justify-content:center;gap:4px;padding:10px 8px;border-radius:8px;border:1px solid var(--hairline);background:var(--panel-2);color:var(--text);min-height:60px;text-align:left;transition:transform .2s ease,background .2s ease,border-color .2s ease}.meal-card__row{display:flex;align-items:center;justify-content:space-between;gap:8px}.meal-card__name{font-size:.95rem;font-weight:600;line-height:1.2}.meal-card__meta{display:flex;align-items:center;justify-content:space-between;font-size:.85rem;color:var(--muted)}.meal-card__meta .badge{background:#00000026;color:var(--accent-contrast)}.theme-dark .meal-card__meta .badge{background:#ffffff1f}.meal-card.is-selected{border-color:var(--accent);background:var(--accent-soft)}.meal-card.is-selected .meal-card__meta{color:var(--text)}.theme-dark .meal-card.is-selected{background:#3978a13d}.meal-card[aria-disabled=true]{opacity:.45}.meal-card[aria-disabled=true]:not(.is-selected){pointer-events:none}.meal-action-row{gap:10px;flex-wrap:wrap}.meal-action{flex:1 1 30%;min-height:56px;font-size:1rem;text-transform:none}.meal-action.is-hot{box-shadow:0 0 0 2px var(--accent) inset}.meal-action.is-hot[data-variant=ghost]{box-shadow:0 0 0 2px var(--hairline) inset}@media (max-width: 1024px){.passenger-carousel{grid-template-columns:repeat(3,minmax(64px,1fr))}.passenger-pill{padding:6px 8px}.meal-card{min-height:58px;padding:8px 6px}}
